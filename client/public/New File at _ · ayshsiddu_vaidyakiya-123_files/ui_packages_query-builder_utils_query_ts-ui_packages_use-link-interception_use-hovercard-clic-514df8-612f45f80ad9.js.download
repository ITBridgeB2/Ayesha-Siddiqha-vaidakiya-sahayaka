"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_query-builder_utils_query_ts-ui_packages_use-link-interception_use-hovercard-clic-514df8"],{96558:(e,t,i)=>{i.d(t,{Bc:()=>s,Qs:()=>u,fv:()=>n,uN:()=>r,wJ:()=>o,wX:()=>l,wg:()=>a});let a="copilot-chat-textarea",r="copilot-chat-topic-search",s="Review",n="copilot-chat-header-button",l="copilot-diff-header-button",o="copilot-chat-panel",u="copilot-chat-panel"},12380:(e,t,i)=>{i.d(t,{Om:()=>c,qc:()=>d,ws:()=>p,mA:()=>u});var a=i(760),r=i(62596),s=i(71953);i(87016);var n=i(80528),l=i(91385);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let CustomFilterProvider=class CustomFilterProvider extends EventTarget{handleEvent(e){let t=e.parsedQuery.at(-1);(""!==t.value||this.priority<=a.$D)&&t?.type!=="filter"&&!e.parsedQuery.some(e=>"filter"===e.type&&e.filter===this.value)&&((0,l.qA)(t?.value,this.name)||(0,l.qA)(t?.value,this.value))&&this.dispatchEvent(new Event("show")),t?.type==="filter"&&t.filter===this.value&&this.filterValues?.map(e=>{let{name:i,priority:a,icon:r}=e,s="value"in e?e.value:e.valueFunc(),n=s.charAt(0).toUpperCase()+s.slice(1);this.emitSuggestion(this.value,s,i??n,t.value,a,r)})}emitSuggestion(e,t,i,a,r,s){(!a||(0,l.qA)(a,t))&&(a&&(r-=(0,l.fN)(a,t)),this.dispatchEvent(new n.qi({filter:e,value:t,name:i,priority:r,icon:s})))}constructor(e,{name:t,value:i,priority:a,icon:r,valuesKey:s},n){super(),o(this,"type","filter"),o(this,"name",void 0),o(this,"value",void 0),o(this,"priority",void 0),o(this,"icon",void 0),o(this,"valuesKey",void 0),o(this,"filterValues",void 0),o(this,"singularItemName",void 0),this.name=t,this.value=i,this.singularItemName=t,this.priority=a,this.icon=r,this.valuesKey=s,this.filterValues=n,e.addEventListener("query",this),e.attachProvider(this)}};function u(e){let t=new Map;for(let i of(t.set("searchTerms",[]),e.trim().split(/((?:[^\s"]+|"[^"]*")+)/g).filter(e=>""!==e.trim()))){let[e,a]=i.split(":");if(e&&a){if(!t.has(e)){t.set(e,[a]);continue}t.set(e,[...t.get(e),a]);continue}t.set("searchTerms",[...t.get("searchTerms"),i])}return t}function c(e,t,i){if(e.value in a.RM){let s=e.value;new CustomFilterProvider(t,{...e,name:a.RM[s],icon:r.m4.Not,value:`-${e.value}`,valuesKey:e.value,priority:a.a6},i)}new CustomFilterProvider(t,e,i)}function d(e,t,i,r,n){if(e.value in a.RM){let l=e.value;new s.D(t,{...e,name:a.RM[l],value:`-${e.value}`,priority:a.a6},i,r,n)}new s.D(t,e,i,r,n)}function p(e){let t=u(e),i=new Map([...t.get("is")||[],...t.get("type")||[]].map(e=>[e,!0])),a=i.has("pr")||i.has("pull-request"),r=i.has("issue")||i.has("issues");return a&&!r}},72789:(e,t,i)=>{i.d(t,{I:()=>s});var a=i(96540);function r(e){return e.target instanceof HTMLElement?e.target.closest(".js-hovercard-content"):null}let s=e=>{(0,a.useEffect)(()=>{let t=e=>{r(e)&&e.stopPropagation()},i=t=>{let i=r(t);if(!i)return;let a=i.getAttribute("data-hovercard-target-url");a&&e(a,t)};return window.addEventListener("focus",t,!0),window.addEventListener("click",i),()=>{window.removeEventListener("focus",t,!0),window.removeEventListener("click",i)}})}},16037:(e,t,i)=>{i.d(t,{B:()=>IssueTypeFilterProvider});let a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"name"},{defaultValue:null,kind:"LocalArgument",name:"owner"}],t=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],i=[{kind:"Literal",name:"first",value:10}],a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"IssueTypeFilterProviderIssueTypeQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[a],storageKey:null}],storageKey:null}],storageKey:"issueTypes(first:10)"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"IssueTypeFilterProviderIssueTypeQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[a,r],storageKey:null}],storageKey:null}],storageKey:"issueTypes(first:10)"},r],storageKey:null}]},params:{id:"50e0799321ee775e4a9ab272d550bc80",metadata:{},name:"IssueTypeFilterProviderIssueTypeQuery",operationKind:"query",text:null}}}();a.hash="8a15f824f83b4a06404fd85740a7527f";let r=function(){var e={alias:null,args:null,kind:"ScalarField",name:"suggestedIssueTypeNames",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IssueTypeFilterProviderViewerIssueTypeQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[e],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"IssueTypeFilterProviderViewerIssueTypeQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"58ebbad60258ea0c9eb795e67cc2b575",metadata:{},name:"IssueTypeFilterProviderViewerIssueTypeQuery",operationKind:"query",text:null}}}();r.hash="765a25834ce6bc541a1d98b6355cf514";let s=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"login"},{defaultValue:null,kind:"LocalArgument",name:"number"}],t=[{kind:"Variable",name:"login",variableName:"login"}],i=[{kind:"Variable",name:"number",variableName:"number"}],a={alias:null,args:null,kind:"ScalarField",name:"suggestedIssueTypeNames",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"IssueTypeFilterProviderProjectIssueTypeQuery",selections:[{alias:null,args:t,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{alias:null,args:i,concreteType:"ProjectV2",kind:"LinkedField",name:"projectV2",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"IssueTypeFilterProviderProjectIssueTypeQuery",selections:[{alias:null,args:t,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{alias:null,args:i,concreteType:"ProjectV2",kind:"LinkedField",name:"projectV2",plural:!1,selections:[a,r],storageKey:null},r],storageKey:null}]},params:{id:"4ecab7512fd17375c718ee060e7c9130",metadata:{},name:"IssueTypeFilterProviderProjectIssueTypeQuery",operationKind:"query",text:null}}}();s.hash="54031af5ea97af051011bdae3b3dc9af";var n=i(78601),l=i(1120),o=i(62976),u=i(5804),c=i(38621),d=i(91385),p=i(18312),y=i(69487);function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let h=[{value:"issue",displayName:"Issue",priority:1,icon:c.IssueOpenedIcon},{value:"pr",displayName:"Pull Request",priority:2,icon:c.GitPullRequestIcon}],g={displayName:"Type",key:"type",priority:n.a6,icon:c.IssueOpenedIcon,description:"Specify the type of issue to search for"};let IssueTypeFilterProvider=class IssueTypeFilterProvider extends l.kr{async getSuggestions(e,t,i,a){let r=(0,o.DS)(t,a),s=await this.processSuggestions(e,t,this.processSuggestion.bind(this),a)||[],n=[];if((0,o.uT)(t)&&this.options.filterTypes.valueless&&!t.raw.startsWith("-")){let e=(0,o.jL)(this.displayName,this.icon);n.push(e)}if((0,o.uT)(t)&&this.options.filterTypes.hasValue&&!t.raw.startsWith("-")){let e=(0,o.Ms)(this.displayName,this.icon);n.push(e)}for(let e of s){let{value:t,displayName:i}=e,a=(0,o.I8)(t),s=!!a&&(0,d.qA)(r,a),l=!!i&&(0,d.qA)(r,i);a&&(s||l)&&(e.priority-=(0,u.dt)(r,a),n.push(e))}return n}async fetchSuggestions(e,t){if(!t)return[];try{if(this.relayEnvironment&&this.requestVariables&&this.repositoryScope){let e=await (0,p.fetchQuery)(this.relayEnvironment,a,this.requestVariables,{fetchPolicy:"store-or-network"}).toPromise(),t=e?.repository?.issueTypes?.edges||[],i=[];for(let e of t)e&&e.node&&e.node.name&&i.push({name:e.node.name});return i}if(this.relayEnvironment&&this.requestVariables&&this.projectScope){let e=await (0,p.fetchQuery)(this.relayEnvironment,s,this.requestVariables,{fetchPolicy:"store-or-network"}).toPromise(),t=e?.organization?.projectV2?.suggestedIssueTypeNames||[];return t?.map(e=>({name:e}))}if(this.relayEnvironment&&!this.projectScope&&!this.repositoryScope){let e=await (0,p.fetchQuery)(this.relayEnvironment,r,{},{fetchPolicy:"store-or-network"}).toPromise(),t=e?.viewer?.suggestedIssueTypeNames||[];return t?.map(e=>({name:e}))}}catch{}return[]}async validateFilterValue(e){try{if(this.relayEnvironment&&this.requestVariables&&this.repositoryScope){let t=await (0,p.fetchQuery)(this.relayEnvironment,a,this.requestVariables,{fetchPolicy:"store-or-network"}).toPromise(),i=t?.repository?.issueTypes?.edges||[],r=[];for(let e of i)e&&e.node&&e.node.name&&r.push({name:e.node.name});return r.find(t=>(0,o.SH)(t.name,e))}if(this.relayEnvironment&&this.requestVariables&&this.projectScope){let t=await (0,p.fetchQuery)(this.relayEnvironment,s,this.requestVariables,{fetchPolicy:"store-or-network"}).toPromise(),i=t?.organization?.projectV2?.suggestedIssueTypeNames||[];return{name:i?.find(t=>o.SH(t,e))}}if(this.relayEnvironment){let t=await (0,p.fetchQuery)(this.relayEnvironment,r,{},{fetchPolicy:"store-or-network"}).toPromise(),i=t?.viewer?.suggestedIssueTypeNames||[];return{name:i?.find(t=>o.SH(t,e))}}}catch{}return null}validateValue(e,t,i){let a=(0,o.M5)(t.value),r=this.legacy?[...h.map(({value:e})=>e),i?.name]:[i?.name];return!!(0!==r.length&&a&&r.find(e=>(0,o.SH)(e,a)))&&{value:(0,o.$4)(a)??"",displayName:a}}async processSuggestions(e,t,i,a){if(!this.shouldGetSuggestions(t))return null;let r=(0,o.DS)(t,a),s=await this.fetchSuggestions(r,t)??[];return[...this.legacy?h.map(e=>({...e,ariaLabel:`${e.displayName}, ${this.displayName}`})):[],...s.map(t=>i(t,r,e))]}getValueRowProps(e){return{text:e.displayName??(0,o.I8)(e.value)??"",leadingVisual:(0,o.d7)({value:e,providerIcon:this.icon})}}processSuggestion(e,t){let{name:i}=e,a=3;return t&&i&&(a-=(0,u.dt)(t,i)),{type:n.ak.Value,displayName:i,ariaLabel:`${i}, ${this.displayName}`,value:(0,o.$4)(i)??"",inlineDescription:!0,priority:a,icon:this.icon}}getRequestVariables(){if(this.repositoryScope){let e=this.repositoryScope.split("/");return{owner:e[0]||"",name:e[1]||""}}if(this.projectScope?.login&&this.projectScope?.projectNumber)return{login:this.projectScope.login,number:this.projectScope.projectNumber}}getRequestDisposable(){if(this.relayEnvironment){if(this.requestVariables&&this.repositoryScope){let e=(0,y.getRequest)(a),t=(0,y.createOperationDescriptor)(e,this.requestVariables);return this.relayEnvironment.retain(t)}if(this.requestVariables&&this.projectScope){let e=(0,y.getRequest)(s),t=(0,y.createOperationDescriptor)(e,this.requestVariables);return this.relayEnvironment.retain(t)}{let e=(0,y.getRequest)(r),t=(0,y.createOperationDescriptor)(e,{});return this.relayEnvironment.retain(t)}}}constructor(e,t=!1,i,a,r){super(g,{...e,filterTypes:{...e?.filterTypes,multiValue:!0}}),m(this,"filterValues",void 0),m(this,"relayEnvironment",void 0),m(this,"repositoryScope",void 0),m(this,"projectScope",void 0),m(this,"owner",void 0),m(this,"repo",void 0),m(this,"legacy",void 0),m(this,"requestVariables",void 0),m(this,"requestDisposable",void 0),this.type=n.CH.Text,this.relayEnvironment=i,this.repositoryScope=a,this.projectScope=r,this.requestVariables=this.getRequestVariables(),this.requestDisposable=this.getRequestDisposable(),this.legacy=t}}},10042:(e,t,i)=>{i.d(t,{d:()=>r});var a=i(74848);function r({progress:e,radius:t=11,isSuccess:i=!1}){return(0,a.jsxs)("svg",{width:2*t+2,height:2*t+2,"data-target":"tracked-issues-progress.progress","data-circumference":"38",style:{transform:"rotate(-90deg)"},"aria-hidden":"true",focusable:"false",children:[(0,a.jsx)("circle",{stroke:"var(--borderColor-default, var(--color-border-default))",strokeWidth:"2",fill:"transparent",cx:"50%",cy:"50%",r:t}),(0,a.jsx)("circle",{style:{transition:"stroke-dashoffset 0.35s"},stroke:i?"var(--fgColor-done, var(--color-done-fg))":"var(--fgColor-default, var(--color-fg-default))",strokeWidth:"2",strokeDasharray:2*Math.PI*t,strokeDashoffset:2*Math.PI*t*(1-e),strokeLinecap:"round",fill:"transparent",cx:"50%",cy:"50%",r:t})]})}try{r.displayName||(r.displayName="PercentageCircle")}catch{}},88350:(e,t,i)=>{i.d(t,{w:()=>m});var a=i(74848),r=i(96540),s=i(90495),n=i(12304),l=i(75177),o=i(87330),u=i(38621),c=i(96558),d=i(24021);let p=(0,r.memo)(({children:e,initialFocusRef:t,returnFocusRef:i,open:p,onClose:m,onKeyDown:h,topOffset:g=0,width:f,"aria-label":v,"aria-labelledby":b,defaultCloseElement:k="button"})=>{let w=(0,r.useMemo)(()=>Array.isArray(f)?f:"string"==typeof f?["100%","",f]:["100%"],[f]),T=(0,r.useRef)(null),[I,S]=(0,r.useState)(null===T.current||!p),{initialFocusRef:P}=(0,s.r)({initialFocusRef:t,containerRef:T,disabled:I}),F=window.matchMedia("(prefers-reduced-motion: reduce)").matches,[V,q]=(0,r.useState)(p),[E,N]=(0,r.useState)(p),[j,x]=(0,d.H)(e,{heading:y});(0,r.useEffect)(()=>{let e;return p?(q(!0),e=setTimeout(()=>N(!0))):(N(!1),e=setTimeout(()=>q(!1),200)),()=>clearTimeout(e)},[p]);let K=(0,r.useCallback)(e=>{let t=e.target;(t.id===c.wg||t.id===c.uN)&&(S(!0),window.setTimeout(()=>t.focus()))},[]),L=(0,r.useCallback)(e=>{let t=e.target;if("INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&e.shiftKey&&"C"===e.key){let e=document.querySelector(`#${c.wg}, #${c.uN}`);e&&(S(!0),window.setTimeout(()=>e.focus()))}h&&h(e)},[h]);(0,r.useEffect)(()=>(window.addEventListener("click",K),()=>{window.removeEventListener("click",K)}),[K]),(0,r.useEffect)(()=>{let e=document.body.style.overflow||"";if("hidden"!==e)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}},[]);let C=(0,r.useCallback)(()=>{I&&S(!p)},[I,p]);return V?(0,a.jsxs)(n.Ay,{initialFocusRef:P,returnFocusRef:i,onKeyDown:L,onEscape:m,onClickOutside:()=>{},ref:T,role:"dialog","aria-modal":!0,"aria-label":v,"aria-labelledby":b,sx:{zIndex:2,height:"1px",bg:"none"},onFocus:C,children:[(0,a.jsx)(l.A,{sx:{backgroundColor:"var(--overlay-backdrop-bgColor, var(--color-overlay-backdrop))",top:g,right:0,bottom:0,left:0,borderRadius:0,position:"fixed",border:"none",transitionDuration:"200ms",transitionProperty:"opacity",transitionTimingFunction:"animation.easeOutCubic",opacity:E?1:0,cursor:"default",width:"100%"},onClick:m,as:"overlay"===k?"button":void 0,"aria-label":"overlay"===k?"Close":void 0}),(0,a.jsxs)(l.A,{sx:{borderRadius:"12px 0 0 12px",position:"fixed",top:g,right:0,bottom:0,width:w,minWidth:"300px",maxWidth:"unset",overflow:"auto",bg:"canvas.default",boxShadow:"shadow.large",transitionDuration:"200ms",transitionProperty:"opacity, transform",transitionTimingFunction:"animation.easeOutCubic",transform:E||F?"translateX(0%)":"translateX(35%)",opacity:E?1:0},children:[(0,a.jsxs)(l.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,a.jsx)("div",{children:j.heading}),(0,a.jsx)("div",{children:"button"===k&&(0,a.jsx)(o.K,{variant:"invisible",icon:u.XIcon,"aria-label":"Close",onClick:m,sx:{float:"right",m:3}})})]}),x]})]}):null});p.displayName="SidePanel";let y=({children:e})=>(0,a.jsx)("div",{children:e}),m=Object.assign(p,{Heading:y});try{y.displayName||(y.displayName="Heading")}catch{}try{m.displayName||(m.displayName="SidePanel")}catch{}}}]);
//# sourceMappingURL=ui_packages_query-builder_utils_query_ts-ui_packages_use-link-interception_use-hovercard-clic-514df8-b892674d64e8.js.map